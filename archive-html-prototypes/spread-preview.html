<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🔮 Tarot Timer - 스프레드 화면 미리보기</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #0f172a 50%, #1e3a8a 100%);
            color: white;
            min-height: 100vh;
        }
        
        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .progress-bar {
            text-align: center;
            padding: 20px;
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 16px;
            margin-bottom: 20px;
        }
        
        .progress-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #10b981;
            margin-bottom: 8px;
        }
        
        .progress-text {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .title {
            font-size: 2rem;
            font-weight: bold;
            color: #d4af37;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .spreads-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .spread-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .spread-card:hover {
            transform: translateY(-2px);
            border-color: #d4af37;
            box-shadow: 0 8px 32px rgba(212, 175, 55, 0.3);
        }
        
        .spread-card.premium {
            border-color: #d4af37;
            animation: mystical-glow 3s ease-in-out infinite;
        }
        
        @keyframes mystical-glow {
            0%, 100% { box-shadow: 0 4px 20px rgba(212, 175, 55, 0.3); }
            50% { box-shadow: 0 8px 40px rgba(212, 175, 55, 0.8); }
        }
        
        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
        }
        
        .card-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: #d4af37;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
            font-size: 1.5rem;
            color: #0f172a;
        }
        
        .card-title-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .card-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: white;
        }
        
        .level-badge {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 4px 12px;
            border-radius: 20px;
            border: 1px solid;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .level-badge.beginner {
            background: rgba(59, 130, 246, 0.2);
            border-color: rgba(59, 130, 246, 0.5);
            color: #3b82f6;
        }
        
        .level-badge.intermediate {
            background: rgba(245, 158, 11, 0.2);
            border-color: rgba(245, 158, 11, 0.5);
            color: #f59e0b;
        }
        
        .level-badge.premium {
            background: rgba(212, 175, 55, 0.2);
            border-color: rgba(212, 175, 55, 0.5);
            color: #d4af37;
        }
        
        .card-description {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        .description-text {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
        }
        
        .start-button {
            background: #d4af37;
            border: none;
            border-radius: 16px;
            padding: 16px;
            width: 100%;
            font-size: 1rem;
            font-weight: bold;
            color: #0f172a;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        .start-button:hover {
            background: #fbbf24;
            transform: translateY(-1px);
        }
        
        .premium-info {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #d4af37;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            animation: mystical-glow 3s ease-in-out infinite;
        }
        
        .premium-info-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #d4af37;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            font-size: 1.8rem;
            color: #0f172a;
        }
        
        .premium-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: white;
            margin-bottom: 8px;
        }
        
        .premium-description {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.6;
        }
        
        /* Reading Interface Styles */
        .spread-reading {
            display: none;
        }
        
        .spread-reading.active {
            display: block;
        }
        
        .spread-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #d4af37;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .cards-layout {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .cards-layout.horizontal {
            justify-content: space-around;
        }
        
        .cards-layout.single {
            justify-content: center;
        }
        
        .card-position {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        .spread-card-item {
            width: 80px;
            height: 120px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .spread-card-item:hover {
            transform: scale(1.05);
        }
        
        .spread-card-item.revealed {
            background: linear-gradient(135deg, #1e293b, #334155);
            border-color: #d4af37;
            animation: mystical-glow 3s ease-in-out infinite;
        }
        
        .card-placeholder {
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .card-content {
            text-align: center;
            font-size: 0.7rem;
            padding: 5px;
            color: white;
        }
        
        .position-label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.6);
            text-align: center;
            max-width: 80px;
        }
        
        .position-number {
            position: absolute;
            top: -8px;
            right: -8px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #d4af37;
            color: #0f172a;
            font-size: 0.7rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .spread-actions {
            display: flex;
            gap: 16px;
        }
        
        .back-button {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 16px;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .back-button:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .save-button {
            flex: 1;
            background: #d4af37;
            border: none;
            border-radius: 16px;
            padding: 16px;
            color: #0f172a;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .save-button:hover {
            background: #fbbf24;
        }
        
        /* Modal Styles */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal-overlay.active {
            display: flex;
        }
        
        .modal-content {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #d4af37;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            max-width: 300px;
            animation: mystical-glow 3s ease-in-out infinite;
        }
        
        .modal-card {
            width: 120px;
            height: 180px;
            background: linear-gradient(135deg, #1e293b, #334155);
            border: 1px solid #d4af37;
            border-radius: 16px;
            margin: 0 auto 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            animation: mystical-glow 3s ease-in-out infinite;
        }
        
        .modal-position {
            font-size: 1.3rem;
            font-weight: 600;
            color: #d4af37;
            margin-bottom: 8px;
        }
        
        .modal-description {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .modal-close {
            background: #d4af37;
            border: none;
            border-radius: 16px;
            padding: 12px 24px;
            color: #0f172a;
            font-weight: bold;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 진행률 표시 -->
        <div class="progress-bar">
            <div class="progress-title">🚀 Phase 2 진행중</div>
            <div class="progress-text">스프레드 화면 구현 - 다양한 타로 레이아웃 지원</div>
        </div>

        <!-- 스프레드 선택 화면 -->
        <div id="spread-selection" class="spread-selection">
            <div class="header">
                <div class="title">🎴 Spreads</div>
                <div class="subtitle">다양한 상황에 맞는 타로 스프레드를 선택하세요</div>
            </div>

            <div class="spreads-list">
                <div class="spread-card" onclick="startSpreadReading('one-card')">
                    <div class="card-header">
                        <div class="card-icon">🎴</div>
                        <div class="card-title-container">
                            <div class="card-title">1카드 스프레드 - 빠른 뽑기</div>
                            <div class="level-badge beginner">기본</div>
                        </div>
                    </div>
                    <div class="card-description">
                        <div class="description-text">1장의 카드를 사용하는 beginner 레벨 스프레드입니다.</div>
                    </div>
                    <button class="start-button">시작하기</button>
                </div>

                <div class="spread-card" onclick="startSpreadReading('three-card')">
                    <div class="card-header">
                        <div class="card-icon">🎴</div>
                        <div class="card-title-container">
                            <div class="card-title">3카드 스프레드</div>
                            <div class="level-badge beginner">기본</div>
                        </div>
                    </div>
                    <div class="card-description">
                        <div class="description-text">3장의 카드를 사용하는 beginner 레벨 스프레드입니다.</div>
                    </div>
                    <button class="start-button">시작하기</button>
                </div>

                <div class="spread-card" onclick="startSpreadReading('five-card')">
                    <div class="card-header">
                        <div class="card-icon">🎴</div>
                        <div class="card-title-container">
                            <div class="card-title">5카드 스프레드</div>
                            <div class="level-badge beginner">기본</div>
                        </div>
                    </div>
                    <div class="card-description">
                        <div class="description-text">종합적인 안내를 위한 V자 형태의 5장 스프레드입니다.</div>
                    </div>
                    <button class="start-button">시작하기</button>
                </div>

                <div class="spread-card" onclick="startSpreadReading('celtic-cross')">
                    <div class="card-header">
                        <div class="card-icon">🎴</div>
                        <div class="card-title-container">
                            <div class="card-title">켈틱 크로스</div>
                            <div class="level-badge intermediate">중급</div>
                        </div>
                    </div>
                    <div class="card-description">
                        <div class="description-text">복잡한 상황에 대한 깊이 있는 통찰을 제공하는 10카드 스프레드입니다.</div>
                    </div>
                    <button class="start-button">시작하기</button>
                </div>

                <div class="spread-card premium" onclick="startSpreadReading('ab-choice')">
                    <div class="card-header">
                        <div class="card-icon">🎴</div>
                        <div class="card-title-container">
                            <div class="card-title">AB선택 스프레드</div>
                            <div class="level-badge premium">프리미엄 ⭐</div>
                        </div>
                    </div>
                    <div class="card-description">
                        <div class="description-text">두 가지 중요한 선택지를 비교 분석하는 7카드 스프레드입니다.</div>
                    </div>
                    <button class="start-button">시작하기</button>
                </div>
            </div>

            <div class="premium-info">
                <div class="premium-info-icon">⭐</div>
                <div class="premium-title">프리미엄 스프레드</div>
                <div class="premium-description">더 깊고 정확한 타로 리딩을 경험해보세요</div>
            </div>
        </div>

        <!-- 스프레드 읽기 화면 -->
        <div id="spread-reading" class="spread-reading">
            <div class="spread-title" id="spread-reading-title">3카드 스프레드</div>
            
            <div class="cards-layout horizontal" id="cards-layout">
                <!-- 카드들이 JavaScript로 생성됩니다 -->
            </div>

            <div class="spread-actions">
                <button class="back-button" onclick="backToSpreadSelection()">← 스프레드 선택</button>
                <button class="save-button">저장</button>
            </div>
        </div>
    </div>

    <!-- 카드 상세 모달 -->
    <div id="card-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-card" id="modal-card-content">🌟</div>
            <div class="modal-position" id="modal-position">현재 상황</div>
            <div class="modal-description" id="modal-description">현재 상황에 대한 깊이 있는 통찰을 제공합니다.</div>
            <button class="modal-close" onclick="closeCardModal()">닫기</button>
        </div>
    </div>

    <script>
        let currentSpread = null;
        let currentSpreadCards = [];

        const spreads = {
            'one-card': {
                name: '1카드 스프레드 - 빠른 뽑기',
                positions: ['현재 상황'],
                layout: 'single'
            },
            'three-card': {
                name: '3카드 스프레드',
                positions: ['과거', '현재', '미래'],
                layout: 'horizontal'
            },
            'five-card': {
                name: '5카드 스프레드',
                positions: ['현재 상황', '도전과 장애', '과거의 영향', '가능한 결과', '조언'],
                layout: 'wrap'
            },
            'celtic-cross': {
                name: '켈틱 크로스',
                positions: [
                    '현재 상황', '도전과 장애', '먼 과거', '최근 과거', 
                    '가능한 미래', '가까운 미래', '당신의 접근법', '외부 영향', 
                    '희망과 두려움', '최종 결과'
                ],
                layout: 'wrap'
            },
            'ab-choice': {
                name: 'AB선택 스프레드',
                positions: [
                    '현재 상황', '선택지 A', 'A의 결과', '선택지 B', 
                    'B의 결과', '숨겨진 영향', '조언'
                ],
                layout: 'wrap'
            }
        };

        const cardEmojis = ['🌟', '✨', '🔮', '⭐', '💫', '🌙', '☀️', '🦋', '🌸', '🍃'];

        function startSpreadReading(spreadId) {
            currentSpread = spreads[spreadId];
            currentSpreadCards = currentSpread.positions.map((position, index) => ({
                position,
                revealed: false,
                emoji: cardEmojis[index % cardEmojis.length]
            }));

            document.getElementById('spread-selection').style.display = 'none';
            document.getElementById('spread-reading').classList.add('active');
            document.getElementById('spread-reading-title').textContent = currentSpread.name;

            generateSpreadLayout();
        }

        function generateSpreadLayout() {
            const container = document.getElementById('cards-layout');
            container.className = `cards-layout ${currentSpread.layout}`;
            container.innerHTML = '';

            currentSpreadCards.forEach((card, index) => {
                const cardPosition = document.createElement('div');
                cardPosition.className = 'card-position';

                const cardItem = document.createElement('div');
                cardItem.className = 'spread-card-item';
                cardItem.onclick = () => drawCard(index);

                const positionNumber = document.createElement('div');
                positionNumber.className = 'position-number';
                positionNumber.textContent = index + 1;

                if (card.revealed) {
                    cardItem.classList.add('revealed');
                    cardItem.innerHTML = `<div class="card-content">${card.emoji}<br><small>Card ${index + 1}</small></div>`;
                    cardItem.onclick = () => showCardModal(card, index);
                } else {
                    cardItem.innerHTML = '<div class="card-placeholder">?</div>';
                }

                cardItem.appendChild(positionNumber);

                const label = document.createElement('div');
                label.className = 'position-label';
                label.textContent = card.position;

                cardPosition.appendChild(cardItem);
                cardPosition.appendChild(label);
                container.appendChild(cardPosition);
            });
        }

        function drawCard(index) {
            if (!currentSpreadCards[index].revealed) {
                currentSpreadCards[index].revealed = true;
                generateSpreadLayout();
            }
        }

        function showCardModal(card, index) {
            document.getElementById('modal-card-content').textContent = card.emoji;
            document.getElementById('modal-position').textContent = card.position;
            document.getElementById('modal-description').textContent = `${card.position}에 대한 깊이 있는 통찰을 제공합니다. 카드가 전하는 메시지를 마음으로 받아들이세요.`;
            document.getElementById('card-modal').classList.add('active');
        }

        function closeCardModal() {
            document.getElementById('card-modal').classList.remove('active');
        }

        function backToSpreadSelection() {
            document.getElementById('spread-reading').classList.remove('active');
            document.getElementById('spread-selection').style.display = 'block';
            currentSpread = null;
            currentSpreadCards = [];
        }

        // 모달 외부 클릭 시 닫기
        document.getElementById('card-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeCardModal();
            }
        });

        console.log('🔮 Tarot Timer App - Spread Screen Loaded');
    </script>
</body>
</html>